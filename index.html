<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zahra Album Access</title>
<style>
body {
  font-family: sans-serif;
  background: linear-gradient(160deg, #fff7f9 0%, #f0f9ff 100%);
  text-align: center;
  padding-top: 20vh;
  color: #333;
}
.container {
  background: white;
  display: inline-block;
  padding: 25px 40px;
  border-radius: 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
input {
  padding: 10px;
  font-size: 16px;
  border-radius: 10px;
  border: 1px solid #aaa;
  width: 80%;
  text-align: center;
  margin-bottom: 10px;
}
button {
  padding: 10px 20px;
  font-size: 15px;
  border: none;
  background: #4CAF50;
  color: white;
  border-radius: 10px;
  cursor: pointer;
  margin: 5px;
}
button.change {
  background: #2196F3;
}
h2 {
  color: #ff4081;
}
p#msg {
  color: red;
  font-size: 14px;
}
</style>
</head>
<body>
  <div class="container">
    <h2>üå∏ Welcome to Zahra's Album üå∏</h2>
    <input id="pass" type="password" placeholder="Enter current password"><br>
    <button onclick="checkPass()">Enter</button>
    <hr style="margin:15px 0; opacity:0.3;">
    <input id="newpass" type="password" placeholder="New password (optional)">
    <button class="change" onclick="changePass()">Change Password</button>
    <p id="msg"></p>
  </div>

  <script>
    const defaultPass = "ramz1234";
    let savedPass = localStorage.getItem("zahraPass") || defaultPass;

    function checkPass() {
      const entered = document.getElementById("pass").value.trim();
      const msg = document.getElementById("msg");

      if (entered === savedPass) {
        msg.style.color = "green";
        msg.innerText = "‚úÖ Access granted! Loading album...";
        setTimeout(() => {
          window.location.href = "./album/index.html";
        }, 700);
      } else {
        msg.style.color = "red";
        msg.innerText = "‚ùå Wrong password!";
      }
    }

    function changePass() {
      const current = document.getElementById("pass").value.trim();
      const newpass = document.getElementById("newpass").value.trim();
      const msg = document.getElementById("msg");

      // must know current password
      if (current !== savedPass) {
        msg.style.color = "red";
        msg.innerText = "‚ùå Enter your correct current password first!";
        return;
      }

      if (newpass.length < 3) {
        msg.style.color = "red";
        msg.innerText = "‚ö†Ô∏è New password must be at least 3 characters.";
        return;
      }

      localStorage.setItem("zahraPass", newpass);
      savedPass = newpass;
      msg.style.color = "green";
      msg.innerText = "‚úÖ Password successfully changed!";
      document.getElementById("newpass").value = "";
    }
  </script>
</body>
</html>
